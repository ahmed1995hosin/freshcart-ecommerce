"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[80],{5080:(T,_,e)=>{e.r(_),e.d(_,{WishlistComponent:()=>A});var c=e(6814),d=e(1038),m=e(3981),h=e(5754),p=e(1037),t=e(4769),u=e(6671),g=e(2623),f=e(2425),v=e(832);function P(o,r){1&o&&t._UZ(0,"i",27)}function x(o,r){1&o&&t._UZ(0,"i",28)}const C=function(o){return{"fa-star-half-stroke rating-color":o}};function O(o,r){if(1&o){const i=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t._UZ(2,"img",9),t.qZA(),t.TgZ(3,"div",10)(4,"div",11)(5,"div",12)(6,"div")(7,"h3",13),t._uU(8),t.ALo(9,"cuttitle"),t.qZA(),t.TgZ(10,"h5",14),t._uU(11),t.qZA(),t.TgZ(12,"h5",15),t._uU(13," Price : "),t.TgZ(14,"span",16),t._uU(15),t.ALo(16,"currency"),t.qZA()(),t.TgZ(17,"div")(18,"span",17),t.YNc(19,P,1,0,"i",18),t.ALo(20,"createarray"),t.ALo(21,"round"),t._UZ(22,"i",19),t.ALo(23,"ishalf"),t.YNc(24,x,1,0,"i",20),t.ALo(25,"createarray"),t.ALo(26,"round"),t._uU(27),t.qZA()()(),t.TgZ(28,"button",21),t.NdJ("click",function(){const a=t.CHM(i).$implicit,l=t.oxw(2);return t.KtG(l.deleteProductFromwishList(a))}),t._UZ(29,"i",22),t._uU(30,"Remove "),t.qZA()(),t.TgZ(31,"div",23)(32,"div",24)(33,"div",25)(34,"button",26),t.NdJ("click",function(){const a=t.CHM(i).$implicit,l=t.oxw(2);return t.KtG(l.addProductToCart(a))}),t._uU(35," Add to cart "),t.qZA()()()()()()()}if(2&o){const i=r.$implicit;t.xp6(2),t.Q6J("src",i.imageCover,t.LSH)("alt",i.title),t.xp6(6),t.hij(" ",t.xi3(9,9,i.title,5)," "),t.xp6(3),t.hij(" ",i.category.name," "),t.xp6(4),t.Oqu(t.xi3(16,12,i.price,"EGP")),t.xp6(4),t.Q6J("ngForOf",t.lcZ(20,15,t.lcZ(21,17,null==i?null:i.ratingsAverage))),t.xp6(3),t.Q6J("ngClass",t.VKq(25,C,t.lcZ(23,19,null==i?null:i.ratingsAverage))),t.xp6(2),t.Q6J("ngForOf",t.lcZ(25,21,4-t.lcZ(26,23,null==i?null:i.ratingsAverage))),t.xp6(3),t.hij(" ",null==i?null:i.ratingsAverage,"")}}function b(o,r){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,O,36,27,"div",6),t.qZA()),2&o){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.wishProduct)}}function W(o,r){1&o&&(t.TgZ(0,"h2",29),t._uU(1," No Products In Wish List "),t.qZA())}let A=(()=>{var o;class r{constructor(n,s,a,l){this._WishService=n,this._CartService=s,this.toastr=a,this._ProductsService=l,this.wishProduct=[],this.isloaded=!1}ngOnInit(){this.getWishProduct()}getWishProduct(){this._WishService.getWishlist().subscribe({next:n=>{this.wishProduct=n.data,console.log(this.wishProduct),this._WishService.wishList.next(n.data),this.isloaded=!1,0===this.wishProduct.length&&(this.isloaded=!0)},error:n=>{}})}deleteProductFromwishList(n){this.wishProduct.splice(this.wishProduct.indexOf(n),1),this._WishService.removeProductWishList(n?._id).subscribe({next:s=>{0==s.data.length&&(this.isloaded=!0),this._WishService.wishList.next(s.data)},error:s=>{this.toastr.error(s.message,s.status),this.getWishProduct()}})}addProductToCart(n){console.log(n._id),this._CartService.addProductToCart(n._id).subscribe({next:s=>{console.log(s),"success"==s.status&&(this.toastr.success(s.message,s.status),this._CartService.productCounts.next(s.numOfCartItems),this.deleteProductFromwishList(n))},error:s=>{console.log(s),this.toastr.error(s.message,s.status),this.getWishProduct()}})}}return(o=r).\u0275fac=function(n){return new(n||o)(t.Y36(u.Q),t.Y36(g.N),t.Y36(f._W),t.Y36(v.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:7,vars:2,consts:[[1,"container","cart"],[1,"bg-main-light","p-5"],[1,"fw-bolder","h1"],[1,"py-4"],[4,"ngIf"],["class","h1 my-5 text-center",4,"ngIf"],["class","row py-3 align-items-center my-4 rounded shadow bg-body",4,"ngFor","ngForOf"],[1,"row","py-3","align-items-center","my-4","rounded","shadow","bg-body"],[1,"col-md-2"],[1,"w-100",3,"src","alt"],[1,"col-md-10","p-5"],[1,"d-sm-flex","justify-content-between"],[1,"d-sm-block","d-flex","justify-content-between","align-items-center"],[1,"fw-bold","h2"],[1,"font-sm","text-main","mb-sm-1","mb-0"],[1,"font-sm","my-2"],[1,"text-main"],[1,"fw-bold","font-sm","text-light"],["class","fa-solid fa-star rating-color ms-1",4,"ngFor","ngForOf"],[1,"fa-solid","fa-star","ms-1",3,"ngClass"],["class","fa-solid fa-star","class","fas fa-star ms-1",4,"ngFor","ngForOf"],[1,"font-sm","mt-sm-5","d-block","btn","p-2","ms-sm-0","ms-auto","btn-outline-danger",3,"click"],[1,"fa-solid","fa-trash","me-2"],[1,"mt-sm-0","mt-4"],[1,"mt-md-4","mt-3"],[1,"text-sm-end","text-center","ms-auto"],[1,"btn","px-3","py-2","ms-sm-3","ms-0","bor-btn","flex-wrap","font-md","w-100",3,"click"],[1,"fa-solid","fa-star","rating-color","ms-1"],[1,"fas","fa-star","ms-1"],[1,"h1","my-5","text-center"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"My wish List"),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,b,2,1,"div",4),t.YNc(6,W,2,0,"h2",5),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("ngIf",s.wishProduct.length),t.xp6(1),t.Q6J("ngIf",s.isloaded))},dependencies:[c.ez,c.mk,c.sg,c.O5,c.H9,d.$,m.L,h.l,p.a],styles:[".cart[_ngcontent-%COMP%]{margin:-6rem auto!important;min-height:100vh!important}.main-btn[_ngcontent-%COMP%]:focus{border:1.5px solid transparent!important}.main-btn[_ngcontent-%COMP%]{border:1.5px solid transparent!important;outline:none!important}.main-btn[_ngcontent-%COMP%]:hover{border:1.6px solid var(--main-color)!important}.bor-btn[_ngcontent-%COMP%]{border:1.5px solid var(--main-color)!important;background-color:transparent;transition:all .2s!important;color:var(--main-color)}.bor-btn[_ngcontent-%COMP%]:hover{background-color:var(--main-color);color:#fff}.bor-btn[_ngcontent-%COMP%]:focus{border:1.5px solid var(--main-color)!important}"]}),r})()}}]);