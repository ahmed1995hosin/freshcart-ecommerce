"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[121],{1121:(T,d,n)=>{n.r(d),n.d(d,{CategoriesComponent:()=>w});var t=n(4769),a=n(6814);function u(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"li",3),t.NdJ("click",function(){const c=t.CHM(i).$implicit,l=t.oxw();return t.KtG(l.fillterById(c._id))}),t._UZ(1,"i",4),t._uU(2),t.qZA()}if(2&e){const i=r.$implicit;t.xp6(2),t.hij("",i.name," ")}}let p=(()=>{var e;class r{constructor(){this.category=[],this.categoryId="",this.categoryName="",this.subcategoryId=new t.vpe}fillterById(o){this.subcategoryId.emit(o)}}return(e=r).\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-subcategory"]],inputs:{category:"category",categoryId:"categoryId",categoryName:"categoryName"},outputs:{subcategoryId:"subcategoryId"},standalone:!0,features:[t.jDz],decls:5,vars:2,consts:[[1,"py-3","font-md","bg-main","text-white","ps-3","rounded-1","text-capitalize","cursor-pointer"],[1,"list-unstyled","ps-3"],["class","bg-light py-2 text-capitalize cato transition cursor-pointer position-relative",3,"click",4,"ngFor","ngForOf"],[1,"bg-light","py-2","text-capitalize","cato","transition","cursor-pointer","position-relative",3,"click"],[1,"fa-solid","fa-angle-right","me-1","text-main"]],template:function(o,s){1&o&&(t.TgZ(0,"div")(1,"div",0),t._uU(2),t.qZA(),t.TgZ(3,"ul",1),t.YNc(4,u,3,1,"li",2),t.qZA()()),2&o&&(t.xp6(2),t.hij(" ",s.categoryName," subcategories "),t.xp6(2),t.Q6J("ngForOf",s.category))},dependencies:[a.ez,a.sg],styles:[".cato[_ngcontent-%COMP%]:hover{padding-left:1.5rem!important}"]}),r})();var m=n(678),g=n(5819),y=n(3245),h=n(832),f=n(6671);function _(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){t.CHM(i);const s=t.oxw().$implicit,c=t.oxw();return t.KtG(c.getSubcategories(s._id,s.name))}),t._UZ(1,"img",15),t.TgZ(2,"h2",16),t._uU(3),t.qZA()()}if(2&e){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("src",i.image,t.LSH)("alt",i.name)("title",i.name),t.xp6(2),t.hij(" ",i.name," ")}}function v(e,r){1&e&&(t.ynx(0),t.YNc(1,_,4,4,"ng-template",13),t.BQk())}function C(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",17)(1,"div",18),t.NdJ("click",function(){const c=t.CHM(i).$implicit,l=t.oxw();return t.KtG(l.getSubcategories(c._id,c.name))}),t._UZ(2,"i",19),t._uU(3),t.qZA()()}if(2&e){const i=r.$implicit;t.xp6(3),t.hij(" ",i.name," ")}}function x(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"app-subcategory",20),t.NdJ("subcategoryId",function(s){t.CHM(i);const c=t.oxw();return t.KtG(c.fillterById(s))}),t.qZA()}if(2&e){const i=t.oxw();t.Q6J("category",i.subcategory)("categoryName",i.categoryName)("categoryId",i.cargoryId)}}function b(e,r){if(1&e&&(t.TgZ(0,"div",23),t._UZ(1,"app-singleproduct",24),t.qZA()),2&e){const i=r.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("wishListId",o.wishListId)("product",i)}}function I(e,r){if(1&e&&(t.TgZ(0,"div",21),t.YNc(1,b,2,2,"div",22),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.products)}}function Z(e,r){1&e&&(t.TgZ(0,"div",25)(1,"div"),t._uU(2,"the products of that category out stock"),t.qZA()())}function P(e,r){1&e&&(t.TgZ(0,"div",25)(1,"div"),t._uU(2,"the products of that subcategory out stock"),t.qZA()())}let w=(()=>{var e;class r{constructor(o,s,c){this._CategoriesService=o,this._ProductsService=s,this._WishService=c,this.cargories=[],this.cargoryId="",this.subcategory=[],this.products=[],this.categoryName="",this.isloaded=!1,this.noProductsIncategory=!1,this.noProductsInSubcategory=!1,this.wishListId=[],this.tempProducts=[],this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:1},740:{items:3}},nav:!1,autoplay:!0,autoplayHoverPause:!0,margin:20}}ngOnInit(){this.isloaded=!1,this.getAllCategories(),this._WishService.getWishlist().subscribe({next:o=>{const s=o.data.map(c=>c._id);this.wishListId=s,this._WishService.wishList.next(this.wishListId)}})}getSubcategories(o="",s=""){this.isloaded=!1,this._CategoriesService.getAllSubCategoriesOnCategory(o).subscribe({next:c=>{this.subcategory=c.data,this.categoryName=s,this.cargoryId=o,this.isloaded=!0,this.getProductByCategoryId(o)}})}getAllCategories(){this._CategoriesService.getAllCategories().subscribe({next:o=>{this.cargories=o.data,this.categoryName=o.data[9].name,this.cargoryId=o.data[9]._id,this.isloaded=!0,this.getSubcategories(this.cargoryId),this.getProductByCategoryId(this.cargoryId)}})}fillterById(o){this.products=this.tempProducts,this.noProductsInSubcategory=!1,this.noProductsIncategory=!1,this.products.length>0?(this.noProductsInSubcategory=!1,this.noProductsIncategory=!1,this.products=this.products.filter(s=>s.subcategory[0]._id===o),0===this.products.length&&(this.noProductsInSubcategory=!0,this.noProductsIncategory=!1)):(this.noProductsInSubcategory=!0,this.noProductsIncategory=!1)}getProductByCategoryId(o){this.noProductsIncategory=!1,this.noProductsInSubcategory=!1,this._ProductsService.getProducts(`?category[in]=${o}`).subscribe({next:s=>{this.products=s.data,this.tempProducts=s.data,0===this.products.length&&(this.noProductsIncategory=!0)}})}}return(e=r).\u0275fac=function(o){return new(o||e)(t.Y36(y.G),t.Y36(h.s),t.Y36(f.Q))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-categories"]],standalone:!0,features:[t.jDz],decls:15,vars:7,consts:[[1,"container-fluid","category-section"],[1,"row","mb-5"],[3,"options"],[4,"ngFor","ngForOf"],[1,"fw-bolder","text-capitalize","text-center","mb-5"],[1,"row","g-3","justify-content-center"],["class","col-lg-2 col-md-3 col-sm-6",4,"ngFor","ngForOf"],[1,"row","gx-md-2","mt-5"],[1,"col-md-3","flex-column","border-1","p-0","bg-light"],[3,"category","categoryName","categoryId","subcategoryId",4,"ngIf"],[1,"col-md-9"],["class","row g-3 my-3 p-2",4,"ngIf"],["class","text-capitalize my-3 h1 text-center d-flex justify-content-center align-items-center h-100",4,"ngIf"],["carouselSlide",""],["role","button",1,"cursor-pointer","product","transition","category","rounded-2","text-capitalize","h2","fw-bold",3,"click"],["height","400",1,"w-100","categories-slide","transition","overflow-hidden","d-block",3,"src","alt","title"],[1,"py-3","h2","fw-bold","text-center","bg-main","text-white","position-relative","title-h2"],[1,"col-lg-2","col-md-3","col-sm-6"],["role","button",1,"product","transition","category","rounded-2","text-center","text-capitalize","fw-bold","py-2",3,"click"],[1,"fa-solid","fa-list","me-3","text-main"],[3,"category","categoryName","categoryId","subcategoryId"],[1,"row","g-3","my-3","p-2"],["class","col-lg-3 col-md-4 col-sm-6",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6"],[3,"wishListId","product"],[1,"text-capitalize","my-3","h1","text-center","d-flex","justify-content-center","align-items-center","h-100"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"owl-carousel-o",2),t.YNc(3,v,2,0,"ng-container",3),t.qZA()(),t.TgZ(4,"h1",4),t._uU(5,"all categories"),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,C,4,1,"div",6),t.qZA(),t.TgZ(8,"div",7)(9,"div",8),t.YNc(10,x,1,3,"app-subcategory",9),t.qZA(),t.TgZ(11,"div",10),t.YNc(12,I,2,1,"div",11),t.YNc(13,Z,3,0,"div",12),t.YNc(14,P,3,0,"div",12),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("options",s.customOptions),t.xp6(1),t.Q6J("ngForOf",s.cargories),t.xp6(4),t.Q6J("ngForOf",s.cargories),t.xp6(3),t.Q6J("ngIf",s.isloaded),t.xp6(2),t.Q6J("ngIf",!s.noProductsIncategory&&!s.noProductsInSubcategory),t.xp6(1),t.Q6J("ngIf",s.noProductsIncategory),t.xp6(1),t.Q6J("ngIf",s.noProductsInSubcategory))},dependencies:[a.ez,a.sg,a.O5,p,m.w,g.bB,g.Fy,g.Mp],styles:[".category-section[_ngcontent-%COMP%]{margin-top:-5rem}.category[_ngcontent-%COMP%]{border:1px solid var(--main-color)}.categories-slide[_ngcontent-%COMP%]{object-fit:cover}.categories-slide[_ngcontent-%COMP%]:hover{transform:scale(1.2);-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);-o-transform:scale(1.2)}.title-h2[_ngcontent-%COMP%]{z-index:1}"]}),r})()}}]);